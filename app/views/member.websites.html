<div class='panel panel-default'>
	<div class='panel-heading' translate>Websites</div>
	<div class='panel-body'>
		<div class="form-group">
		    <div class='row' ng-repeat="site in member.websites">
				<div class='col-xs-12'>
					<div class='col-xs-2'><strong translate>URL</strong></div>
					<div class='col-xs-8'>
						<span ng-show="editWeb !== $index">{{site.url}}</span>
						<span ng-show="editWeb === $index">
	        				<input class="form-control input-sm" id="name" ng-model="member.websites[$index].url">
	        			</span>
					</div>
					<div class='col-xs-2'>
						<span class='pull-right' ng-show="editWeb !== $index && (user.hasPermission('Admin') || user.hasPermissionForEntity('EditMember', member.ws_entity.id))">
							<button ng-click="editWeb = $index" class='btn btn-xs btn-warning'><span class='glyphicon glyphicon-edit'></span></button>
							&nbsp;<button ng-click="deleteWebsite(site.id)" class='btn btn-xs btn-danger' ng-disabled="savingWebsite"><span class='glyphicon glyphicon-remove'></span></button>
		        		</span>
		        		<span class='pull-right' ng-show="editWeb === $index">
		        			<button class='btn btn-xs btn-success' ng-click="updateWebsite($index);" ng-disabled="savingWebsite">Save</button>
		        		</span>
					</div>
				</div>
				<div class='col-xs-12'>
					<div class='col-xs-2'><strong translate>Name</strong></div>
					<div class='col-xs-8'>
						<span ng-show="editWeb !== $index">{{site.name.text}}</span>
						<span ng-show="editWeb === $index">
	    					<input class="form-control input-sm" id="website" ng-model="member.websites[$index].name.text">
	    				</span>
					</div>
					<div class='col-xs-2'></div>
				</div>
				<div class='col-xs-12'>
					<div class='col-xs-2'><strong translate>Description</strong></div>
					<div class='col-xs-8'>
						<span ng-show="editWeb !== $index">{{site.description.text}}</span>
						<span ng-show="editWeb === $index">
	    					<textarea class="form-control input-sm" id="website" ng-model="member.websites[$index].description.text"></textarea>
	    				</span>
					</div>
					<div class='col-xs-2'></div>
				</div>
				<div class='col-xs-12'><hr/></div>
			</div>
					
			<div class='row' ng-show="user.hasPermission('Admin') || user.hasPermissionForEntity('EditMember', member.ws_entity.id)">
	      		<div ng-show="showWebForm === false" class='col-xs-12'>
	      				<a ng-click="showWebForm = !showWebForm" href="" class='small'><span class='glyphicon glyphicon-plus'></span> <span translate>NewWebsite</span></a>
	      			</div>
	      			<span ng-show='showWebForm'>
		       		<form class="form-horizontal" name="new_web" novalidate focus-error>						            		        		
						<div class='col-xs-12'>
							<div class='col-xs-2'><strong translate>URL</strong></div>
							<div class='col-xs-8'>
								<input class="form-control input-sm" required id="url" ng-model="newWeb.url">
		       				</div>
						</div>
		        		<div class='col-xs-12'>
							<div class='col-xs-2'><strong translate>Name</strong></div>
							<div class='col-xs-8'>
								<input class="form-control input-sm" required id="name" ng-model="newWeb.name">
		       				</div>
						</div>
						<div class='col-xs-12'>
							<div class='col-xs-2'><strong translate>Description</strong></div>
							<div class='col-xs-8'>
								<textarea class="form-control input-sm" id="description" ng-model="newWeb.description"></textarea>
		       				</div>
						</div>
					</form>
		           	<div class='col-xs-12 col-sm-3 field-padding profile-button-padding'>
		           		&nbsp;<button class='btn btn-sm btn-success' ng-click="createNewWebsite();" ng-disabled="savingWeb || new_web.name.$error.required || new_web.url.$error.required">Save</button>
		           		&nbsp;<button class='btn btn-sm btn-warning' ng-click="showWebForm = !showWebForm" ng-disabled="savingOrg">Cancel</button>
		           	</div>
		           </span>
		       </div>
			</div>
	    </div>
	</div>
</div>